window.jest_html_reporters_callback__({"numFailedTestSuites":3,"numFailedTests":9,"numPassedTestSuites":1,"numPassedTests":10,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":2,"numTodoTests":0,"numTotalTestSuites":4,"numTotalTests":19,"startTime":1757290381013,"success":false,"testResults":[{"numFailingTests":9,"numPassingTests":5,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1757290383022,"runtime":1915,"slow":false,"start":1757290381107},"testFilePath":"C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\tests\\middleware\\validation.test.js","failureMessage":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mMiddleware de Validação › validateStellarAddress › deve rejeitar endereço Stellar inválido\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeDefined\u001b[2m()\u001b[22m\n\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 42 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 43 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 44 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merrors)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 45 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merrors[\u001b[35m0\u001b[39m]\u001b[33m.\u001b[39mmsg)\u001b[33m.\u001b[39mtoContain(\u001b[32m'Endereço Stellar inválido'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 46 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 47 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBeDefined (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/middleware/validation.test.js\u001b[39m\u001b[0m\u001b[2m:44:36)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mMiddleware de Validação › validateStellarAddressBody › deve aceitar endereço Stellar válido no body\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 67 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/test'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 68 |\u001b[39m         \u001b[33m.\u001b[39msend({ address\u001b[33m:\u001b[39m validAddress })\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 69 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 70 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 71 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 72 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/middleware/validation.test.js\u001b[39m\u001b[0m\u001b[2m:69:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:252:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:308:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:285:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:164:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:120:14)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mMiddleware de Validação › validateStellarAddressBody › deve rejeitar endereço Stellar inválido no body\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeDefined\u001b[2m()\u001b[22m\n\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 82 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 83 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 84 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merrors)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 85 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 86 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 87 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBeDefined (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/middleware/validation.test.js\u001b[39m\u001b[0m\u001b[2m:84:36)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mMiddleware de Validação › validatePagination › deve rejeitar página negativa\u001b[39m\u001b[22m\n\n    expected 400 \"Bad Request\", got 200 \"OK\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 106 |\u001b[39m       \u001b[36mconst\u001b[39m response \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[22m\n\u001b[2m     \u001b[90m 107 |\u001b[39m         \u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/test?page=-1&limit=10'\u001b[39m)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 108 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 109 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 110 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merrors)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 111 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/middleware/validation.test.js\u001b[39m\u001b[0m\u001b[2m:108:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:252:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:308:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:285:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:164:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:120:14)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mMiddleware de Validação › validatePagination › deve rejeitar limite muito alto\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeDefined\u001b[2m()\u001b[22m\n\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 120 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 121 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 122 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merrors)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 123 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 124 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 125 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBeDefined (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/middleware/validation.test.js\u001b[39m\u001b[0m\u001b[2m:122:36)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mMiddleware de Validação › validateStakingDelegation › deve aceitar dados de delegação válidos\u001b[39m\u001b[22m\n\n    expected 200 \"OK\", got 400 \"Bad Request\"\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 138 |\u001b[39m         \u001b[33m.\u001b[39mpost(\u001b[32m'/test'\u001b[39m)\u001b[22m\n\u001b[2m     \u001b[90m 139 |\u001b[39m         \u001b[33m.\u001b[39msend(validData)\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 140 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m          \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 141 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 142 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39msuccess)\u001b[33m.\u001b[39mtoBe(\u001b[36mtrue\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 143 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/middleware/validation.test.js\u001b[39m\u001b[0m\u001b[2m:140:10)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      ----\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertStatus (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:252:14)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat \u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:308:13\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test._assertFunction (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:285:13)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Test.assert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:164:23)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Server.localAssert (\u001b[22m\u001b[2mnode_modules/supertest/lib/test.js\u001b[2m:120:14)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mMiddleware de Validação › validateStakingDelegation › deve rejeitar quantidade inválida\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeDefined\u001b[2m()\u001b[22m\n\n    Received: \u001b[31mundefined\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 158 |\u001b[39m         \u001b[33m.\u001b[39mexpect(\u001b[35m400\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 159 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 160 |\u001b[39m       expect(response\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39merrors)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                                    \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 161 |\u001b[39m     })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 162 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 163 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBeDefined (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/middleware/validation.test.js\u001b[39m\u001b[0m\u001b[2m:160:36)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mMiddleware de Validação › securityLoggerMiddleware › deve registrar acesso a endpoint\u001b[39m\u001b[22m\n\n    Route.get() requires a callback function but got a [object Undefined]\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 207 |\u001b[39m       \u001b[36mconst\u001b[39m consoleSpy \u001b[33m=\u001b[39m jest\u001b[33m.\u001b[39mspyOn(console\u001b[33m,\u001b[39m \u001b[32m'log'\u001b[39m)\u001b[33m.\u001b[39mmockImplementation()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 208 |\u001b[39m       \u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 209 |\u001b[39m       app\u001b[33m.\u001b[39m\u001b[36mget\u001b[39m(\u001b[32m'/test'\u001b[39m\u001b[33m,\u001b[39m securityLoggerMiddleware\u001b[33m,\u001b[39m (req\u001b[33m,\u001b[39m res) \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m           \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 210 |\u001b[39m         res\u001b[33m.\u001b[39mjson({ success\u001b[33m:\u001b[39m \u001b[36mtrue\u001b[39m })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 211 |\u001b[39m       })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 212 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Route.<computed> [as get] (\u001b[22m\u001b[2mnode_modules/express/lib/router/route.js\u001b[2m:216:15)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Function.app.<computed> [as get] (\u001b[22m\u001b[2mnode_modules/express/lib/application.js\u001b[2m:499:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.get (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/middleware/validation.test.js\u001b[39m\u001b[0m\u001b[2m:209:11)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mIntegração de Middlewares › deve aplicar múltiplos middlewares em sequência\u001b[39m\u001b[22m\n\n    Route.post() requires a callback function but got a [object Undefined]\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 233 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 234 |\u001b[39m   it(\u001b[32m'deve aplicar múltiplos middlewares em sequência'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 235 |\u001b[39m     app\u001b[33m.\u001b[39mpost(\u001b[32m'/test/:address'\u001b[39m\u001b[33m,\u001b[39m \u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m         \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 236 |\u001b[39m       validateStellarAddress\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 237 |\u001b[39m       sanitizeInput\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 238 |\u001b[39m       securityLoggerMiddleware\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Route.<computed> [as post] (\u001b[22m\u001b[2mnode_modules/express/lib/router/route.js\u001b[2m:216:15)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Function.app.<computed> [as post] (\u001b[22m\u001b[2mnode_modules/express/lib/application.js\u001b[2m:499:19)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.post (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtests/middleware/validation.test.js\u001b[39m\u001b[0m\u001b[2m:235:9)\u001b[22m\u001b[2m\u001b[22m\n","testResults":[{"ancestorTitles":["Middleware de Validação","validateStellarAddress"],"duration":110,"failureMessages":[],"fullName":"Middleware de Validação validateStellarAddress deve aceitar endereço Stellar válido","status":"passed","title":"deve aceitar endereço Stellar válido"},{"ancestorTitles":["Middleware de Validação","validateStellarAddress"],"duration":40,"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeDefined\u001b[2m()\u001b[22m\n\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBeDefined (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\tests\\middleware\\validation.test.js:44:36)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Middleware de Validação validateStellarAddress deve rejeitar endereço Stellar inválido","status":"failed","title":"deve rejeitar endereço Stellar inválido"},{"ancestorTitles":["Middleware de Validação","validateStellarAddress"],"duration":21,"failureMessages":[],"fullName":"Middleware de Validação validateStellarAddress deve rejeitar endereço vazio","status":"passed","title":"deve rejeitar endereço vazio"},{"ancestorTitles":["Middleware de Validação","validateStellarAddressBody"],"duration":35,"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\tests\\middleware\\validation.test.js:69:10)\n    at Promise.then.completed (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2418:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Middleware de Validação validateStellarAddressBody deve aceitar endereço Stellar válido no body","status":"failed","title":"deve aceitar endereço Stellar válido no body"},{"ancestorTitles":["Middleware de Validação","validateStellarAddressBody"],"duration":16,"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeDefined\u001b[2m()\u001b[22m\n\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBeDefined (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\tests\\middleware\\validation.test.js:84:36)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Middleware de Validação validateStellarAddressBody deve rejeitar endereço Stellar inválido no body","status":"failed","title":"deve rejeitar endereço Stellar inválido no body"},{"ancestorTitles":["Middleware de Validação","validatePagination"],"duration":17,"failureMessages":[],"fullName":"Middleware de Validação validatePagination deve aceitar parâmetros de paginação válidos","status":"passed","title":"deve aceitar parâmetros de paginação válidos"},{"ancestorTitles":["Middleware de Validação","validatePagination"],"duration":13,"failureMessages":["Error: expected 400 \"Bad Request\", got 200 \"OK\"\n    at Object.expect (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\tests\\middleware\\validation.test.js:108:10)\n    at Promise.then.completed (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2418:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Middleware de Validação validatePagination deve rejeitar página negativa","status":"failed","title":"deve rejeitar página negativa"},{"ancestorTitles":["Middleware de Validação","validatePagination"],"duration":18,"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeDefined\u001b[2m()\u001b[22m\n\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBeDefined (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\tests\\middleware\\validation.test.js:122:36)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Middleware de Validação validatePagination deve rejeitar limite muito alto","status":"failed","title":"deve rejeitar limite muito alto"},{"ancestorTitles":["Middleware de Validação","validateStakingDelegation"],"duration":24,"failureMessages":["Error: expected 200 \"OK\", got 400 \"Bad Request\"\n    at Object.expect (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\tests\\middleware\\validation.test.js:140:10)\n    at Promise.then.completed (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n----\n    at Test._assertStatus (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\supertest\\lib\\test.js:252:14)\n    at C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\supertest\\lib\\test.js:308:13\n    at Test._assertFunction (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\supertest\\lib\\test.js:285:13)\n    at Test.assert (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\supertest\\lib\\test.js:164:23)\n    at Server.localAssert (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\supertest\\lib\\test.js:120:14)\n    at Object.onceWrapper (node:events:632:28)\n    at Server.emit (node:events:518:28)\n    at emitCloseNT (node:net:2418:8)\n    at processTicksAndRejections (node:internal/process/task_queues:89:21)"],"fullName":"Middleware de Validação validateStakingDelegation deve aceitar dados de delegação válidos","status":"failed","title":"deve aceitar dados de delegação válidos"},{"ancestorTitles":["Middleware de Validação","validateStakingDelegation"],"duration":22,"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeDefined\u001b[2m()\u001b[22m\n\nReceived: \u001b[31mundefined\u001b[39m\n    at Object.toBeDefined (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\tests\\middleware\\validation.test.js:160:36)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"Middleware de Validação validateStakingDelegation deve rejeitar quantidade inválida","status":"failed","title":"deve rejeitar quantidade inválida"},{"ancestorTitles":["Middleware de Validação","sanitizeInput"],"duration":15,"failureMessages":[],"fullName":"Middleware de Validação sanitizeInput deve sanitizar entrada maliciosa","status":"passed","title":"deve sanitizar entrada maliciosa"},{"ancestorTitles":["Middleware de Validação","sanitizeInput"],"duration":84,"failureMessages":[],"fullName":"Middleware de Validação sanitizeInput deve preservar texto normal","status":"passed","title":"deve preservar texto normal"},{"ancestorTitles":["Middleware de Validação","securityLoggerMiddleware"],"duration":2,"failureMessages":["Error: Route.get() requires a callback function but got a [object Undefined]\n    at Route.<computed> [as get] (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\express\\lib\\router\\route.js:216:15)\n    at Function.app.<computed> [as get] (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\express\\lib\\application.js:499:19)\n    at Object.get (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\tests\\middleware\\validation.test.js:209:11)\n    at Promise.then.completed (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)"],"fullName":"Middleware de Validação securityLoggerMiddleware deve registrar acesso a endpoint","status":"failed","title":"deve registrar acesso a endpoint"},{"ancestorTitles":["Integração de Middlewares"],"duration":1,"failureMessages":["Error: Route.post() requires a callback function but got a [object Undefined]\n    at Route.<computed> [as post] (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\express\\lib\\router\\route.js:216:15)\n    at Function.app.<computed> [as post] (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\express\\lib\\application.js:499:19)\n    at Object.post (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\tests\\middleware\\validation.test.js:235:9)\n    at Promise.then.completed (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)"],"fullName":"Integração de Middlewares deve aplicar múltiplos middlewares em sequência","status":"failed","title":"deve aplicar múltiplos middlewares em sequência"}]},{"numFailingTests":0,"numPassingTests":5,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1757290383121,"runtime":71,"slow":false,"start":1757290383050},"testFilePath":"C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\tests\\basic.test.js","failureMessage":null,"testResults":[{"ancestorTitles":["Testes Básicos"],"duration":2,"failureMessages":[],"fullName":"Testes Básicos deve somar dois números","status":"passed","title":"deve somar dois números"},{"ancestorTitles":["Testes Básicos"],"duration":1,"failureMessages":[],"fullName":"Testes Básicos deve verificar se string contém texto","status":"passed","title":"deve verificar se string contém texto"},{"ancestorTitles":["Testes Básicos"],"duration":0,"failureMessages":[],"fullName":"Testes Básicos deve verificar se array contém elemento","status":"passed","title":"deve verificar se array contém elemento"},{"ancestorTitles":["Testes Básicos"],"duration":1,"failureMessages":[],"fullName":"Testes Básicos deve verificar se objeto tem propriedade","status":"passed","title":"deve verificar se objeto tem propriedade"},{"ancestorTitles":["Testes Básicos"],"duration":2,"failureMessages":[],"fullName":"Testes Básicos deve verificar se função é chamada","status":"passed","title":"deve verificar se função é chamada"}]},{"numFailingTests":0,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":0,"runtime":0,"slow":false,"start":0},"testFilePath":"C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\tests\\routes\\staking.test.js","failureMessage":"  \u001b[1m● \u001b[22mTest suite failed to run\n\n    ReferenceError: supabase is not defined\n\n    \u001b[0m \u001b[90m 49 |\u001b[39m \u001b[90m// Configurações globais para testes\u001b[39m\n     \u001b[90m 50 |\u001b[39m global\u001b[33m.\u001b[39mtestConfig \u001b[33m=\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 51 |\u001b[39m   supabase\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 52 |\u001b[39m   mockStellarServer\u001b[33m,\u001b[39m\n     \u001b[90m 53 |\u001b[39m   testTimeout\u001b[33m:\u001b[39m \u001b[35m10000\u001b[39m\n     \u001b[90m 54 |\u001b[39m }\u001b[33m;\u001b[39m\u001b[0m\n\n      \u001b[2mat Object.supabase (\u001b[22mtests/setup.js\u001b[2m:51:3)\u001b[22m\n      \u001b[2mat Object.require (\u001b[22m\u001b[0m\u001b[36mtests/routes/staking.test.js\u001b[39m\u001b[0m\u001b[2m:4:31)\u001b[22m\n","testResults":[]},{"numFailingTests":0,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":0,"runtime":0,"slow":false,"start":0},"testFilePath":"C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\tests\\routes\\rewards.test.js","failureMessage":"  \u001b[1m● \u001b[22mTest suite failed to run\n\n    ReferenceError: supabase is not defined\n\n    \u001b[0m \u001b[90m 49 |\u001b[39m \u001b[90m// Configurações globais para testes\u001b[39m\n     \u001b[90m 50 |\u001b[39m global\u001b[33m.\u001b[39mtestConfig \u001b[33m=\u001b[39m {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 51 |\u001b[39m   supabase\u001b[33m,\u001b[39m\n     \u001b[90m    |\u001b[39m   \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 52 |\u001b[39m   mockStellarServer\u001b[33m,\u001b[39m\n     \u001b[90m 53 |\u001b[39m   testTimeout\u001b[33m:\u001b[39m \u001b[35m10000\u001b[39m\n     \u001b[90m 54 |\u001b[39m }\u001b[33m;\u001b[39m\u001b[0m\n\n      \u001b[2mat Object.supabase (\u001b[22mtests/setup.js\u001b[2m:51:3)\u001b[22m\n      \u001b[2mat Object.require (\u001b[22m\u001b[0m\u001b[36mtests/routes/rewards.test.js\u001b[39m\u001b[0m\u001b[2m:4:41)\u001b[22m\n","testResults":[]}],"config":{"bail":0,"changedFilesWithAncestor":false,"ci":false,"collectCoverage":true,"collectCoverageFrom":["routes/**/*.js","middleware/**/*.js","config/**/*.js","services/**/*.js","!**/node_modules/**","!**/tests/**","!**/coverage/**"],"coverageDirectory":"C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\coverage","coverageProvider":"babel","coverageReporters":["text","lcov","html","json-summary"],"detectLeaks":false,"detectOpenHandles":true,"errorOnDeprecated":false,"expand":false,"findRelatedTests":false,"forceExit":true,"json":false,"lastCommit":false,"listTests":false,"logHeapUsage":false,"maxConcurrency":5,"maxWorkers":5,"noStackTrace":false,"nonFlagArgs":[],"notify":false,"notifyMode":"failure-change","onlyChanged":false,"onlyFailures":false,"openHandlesTimeout":1000,"passWithNoTests":false,"projects":[{"displayName":"unit","testMatch":["<rootDir>/tests/**/*.test.js"],"testEnvironment":"node","rootDir":"C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend"}],"reporters":[["default",{}],["C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\jest-html-reporters\\index.js",{"publicPath":"./coverage","filename":"test-report.html","expand":true}]],"rootDir":"C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend","runTestsByPath":false,"seed":-1170761324,"skipFilter":false,"snapshotFormat":{"escapeString":false,"printBasicPrototype":false},"testFailureExitCode":1,"testPathPattern":"","testSequencer":"C:\\Users\\Usuário\\Documents\\GitHub\\stellar-stake-house\\backend\\node_modules\\@jest\\test-sequencer\\build\\index.js","testTimeout":10000,"updateSnapshot":"new","useStderr":false,"verbose":true,"watch":false,"watchAll":false,"watchman":true,"workerThreads":false,"coverageLinkPath":"lcov-report\\index.html"},"endTime":1757290383787,"_reporterOptions":{"publicPath":"./coverage","filename":"test-report.html","expand":true,"pageTitle":"","hideIcon":false,"testCommand":"","openReport":false,"failureMessageOnly":0,"enableMergeData":false,"dataMergeLevel":1,"inlineSource":false,"urlForTestFiles":"","darkTheme":false,"includeConsoleLog":false,"stripSkippedTest":false},"logInfoMapping":{},"attachInfos":{}})